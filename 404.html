<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
        (function() {
            // Capture l'URL actuelle
            const origin = window.location.origin; // https://xspace-wolfx.github.io
            const pathname = window.location.pathname.replace('/index.html', ''); // Supprime index.html s'il existe
            const search = window.location.search; // ?params
            const hash = window.location.hash; // #/route

            // Vérifie si l'URL est déjà conforme (pas de sous-dossier répété)
            if (hash.startsWith('#/') || pathname === '/') {
                console.log("URL is already valid, stopping redirection.");
                return;
            }

            // Reconstruit une URL propre (avec le sous-dossier GitHub Pages)
            const newPath = pathname.replace('/Softxpertise', ''); // Supprime le sous-dossier
            const redirectUrl = `${origin}/Softxpertise/#${newPath}${search}`;
            
            console.log(`Redirecting to: ${redirectUrl}`);
            window.location.replace(redirectUrl);
        })();
    </script>
</head>
<body>
    <h1>Redirecting...</h1>
</body>
</html>
