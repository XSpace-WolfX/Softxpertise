<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
        (function() {
            // Récupère les parties de l'URL
            const pathname = window.location.pathname; // Ex: /services
            const search = window.location.search;     // Ex: ?id=123
            const hash = window.location.hash;         // Ex: #/services

            // Si l'URL contient déjà un hash valide, ne rien faire
            if (hash.startsWith('#/')) {
                console.log("Hash already correct, no redirection needed.");
                return;
            }

            // Reconstruit l’URL sans `index.html` et ajoute le hash
            const newPath = pathname.replace('/index.html', ''); // Supprime index.html s’il existe
            const redirectUrl = `${window.location.origin}/Softxpertise/#${newPath}${search}`;
            
            console.log(`Redirecting to: ${redirectUrl}`);
            window.location.replace(redirectUrl);
        })();
    </script>
</head>
<body>
    <h1>Redirecting...</h1>
</body>
</html>
