<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
        (function() {
            // Capture le chemin et les paramètres actuels
            const pathname = window.location.pathname; // Exemple: /home
            const search = window.location.search;     // Paramètres: ?id=123
            const hash = window.location.hash;         // Fragment: #section

            // Vérifie si l'URL est déjà conforme
            if (pathname === '/' || hash.startsWith('#/')) {
                console.log("URL is already correct, no redirection needed.");
                return;
            }

            // Reconstruit une URL propre sans /index.html
            const newUrl = `${window.location.origin}${search}#${pathname}`;
            console.log(`Redirecting to: ${newUrl}`);

            // Redirige uniquement si nécessaire
            if (newUrl !== window.location.href) {
                window.location.replace(newUrl);
            }
        })();
    </script>
</head>
<body>
    <h1>Redirecting...</h1>
</body>
</html>
